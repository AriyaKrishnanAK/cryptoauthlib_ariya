<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CryptoAuthLib: hal_esp32_i2c.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="microchip.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CryptoAuthLib
   &#160;<span id="projectnumber">v3.4.1</span>
   </div>
   <div id="projectbrief">Microchip CryptoAuthentication Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00473.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hal_esp32_i2c.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;driver/i2c.h&gt;</code><br />
<code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;<a class="el" href="a00452_source.html">cryptoauthlib.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a19840.html">atcaI2Cmaster</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">this is the hal_data for ATCA HAL for ASF SERCOM  <a href="a19840.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0a6c8b4ecca4f35aaa82d33f8a1d9742"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a0a6c8b4ecca4f35aaa82d33f8a1d9742">I2C0_SDA_PIN</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a0a6c8b4ecca4f35aaa82d33f8a1d9742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e30c459b21b57de018d51644a767929"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a1e30c459b21b57de018d51644a767929">I2C0_SCL_PIN</a>&#160;&#160;&#160;17</td></tr>
<tr class="separator:a1e30c459b21b57de018d51644a767929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68697a8aca56f616b38aa23f82edecd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a68697a8aca56f616b38aa23f82edecd5">I2C1_SDA_PIN</a>&#160;&#160;&#160;21</td></tr>
<tr class="separator:a68697a8aca56f616b38aa23f82edecd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add009e081e638094ee54b280661d862e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#add009e081e638094ee54b280661d862e">I2C1_SCL_PIN</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:add009e081e638094ee54b280661d862e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd22b838d2b1f22d367e6cdef04ccc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a7dd22b838d2b1f22d367e6cdef04ccc3">ACK_CHECK_EN</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:a7dd22b838d2b1f22d367e6cdef04ccc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad7ceb373ce664b1c2482a66537e7c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a8ad7ceb373ce664b1c2482a66537e7c0">ACK_CHECK_DIS</a>&#160;&#160;&#160;0x0</td></tr>
<tr class="separator:a8ad7ceb373ce664b1c2482a66537e7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d64a546dacc15052a6c4887f9d0020f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a1d64a546dacc15052a6c4887f9d0020f">ACK_VAL</a>&#160;&#160;&#160;0x0</td></tr>
<tr class="separator:a1d64a546dacc15052a6c4887f9d0020f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20bf16f65c41237e2d620ef49890781"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#ae20bf16f65c41237e2d620ef49890781">NACK_VAL</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:ae20bf16f65c41237e2d620ef49890781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5155a7b7465dd9b5e6167122827d0158"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a5155a7b7465dd9b5e6167122827d0158">LOG_LOCAL_LEVEL</a>&#160;&#160;&#160;ESP_LOG_INFO</td></tr>
<tr class="separator:a5155a7b7465dd9b5e6167122827d0158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89a7a4080a47aa10a5504291db285bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#af89a7a4080a47aa10a5504291db285bf">MAX_I2C_BUSES</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:af89a7a4080a47aa10a5504291db285bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a06b19a932aea9cf3a5165fefacb24f7b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="a19840.html">atcaI2Cmaster</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a06b19a932aea9cf3a5165fefacb24f7b">ATCAI2CMaster_t</a></td></tr>
<tr class="separator:a06b19a932aea9cf3a5165fefacb24f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a210aab17fd4be72d6af1bdf044ec2581"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a210aab17fd4be72d6af1bdf044ec2581">hal_i2c_change_baud</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface, uint32_t speed)</td></tr>
<tr class="memdesc:a210aab17fd4be72d6af1bdf044ec2581"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to change the bus speec of I2C  <a href="a00473.html#a210aab17fd4be72d6af1bdf044ec2581">More...</a><br /></td></tr>
<tr class="separator:a210aab17fd4be72d6af1bdf044ec2581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17df8d983df73e2e8f62f1236f157909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#ga17df8d983df73e2e8f62f1236f157909">hal_i2c_init</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface, <a class="el" href="a19744.html">ATCAIfaceCfg</a> *cfg)</td></tr>
<tr class="memdesc:ga17df8d983df73e2e8f62f1236f157909"><td class="mdescLeft">&#160;</td><td class="mdescRight">hal_i2c_init manages requests to initialize a physical interface. it manages use counts so when an interface has released the physical layer, it will disable the interface for some other use. You can have multiple ATCAIFace instances using the same bus, and you can have multiple ATCAIFace instances on multiple i2c buses, so hal_i2c_init manages these things and ATCAIFace is abstracted from the physical details.  <a href="a00473.html#ga17df8d983df73e2e8f62f1236f157909">More...</a><br /></td></tr>
<tr class="separator:ga17df8d983df73e2e8f62f1236f157909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbe53519362f18c2688d10da6f7c618f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#gafbe53519362f18c2688d10da6f7c618f">hal_i2c_post_init</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface)</td></tr>
<tr class="memdesc:gafbe53519362f18c2688d10da6f7c618f"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL implementation of I2C post init.  <a href="a00473.html#gafbe53519362f18c2688d10da6f7c618f">More...</a><br /></td></tr>
<tr class="separator:gafbe53519362f18c2688d10da6f7c618f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga148e547d08979e9934ce183933ecd7ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#ga148e547d08979e9934ce183933ecd7ed">hal_i2c_send</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface, uint8_t address, uint8_t *txdata, int txlength)</td></tr>
<tr class="memdesc:ga148e547d08979e9934ce183933ecd7ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL implementation of I2C send.  <a href="a00473.html#ga148e547d08979e9934ce183933ecd7ed">More...</a><br /></td></tr>
<tr class="separator:ga148e547d08979e9934ce183933ecd7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1baf65047dc3efe1f14f1b79b62c04f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#gac1baf65047dc3efe1f14f1b79b62c04f">hal_i2c_receive</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface, uint8_t address, uint8_t *rxdata, uint16_t *rxlength)</td></tr>
<tr class="memdesc:gac1baf65047dc3efe1f14f1b79b62c04f"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL implementation of I2C receive function.  <a href="a00473.html#gac1baf65047dc3efe1f14f1b79b62c04f">More...</a><br /></td></tr>
<tr class="separator:gac1baf65047dc3efe1f14f1b79b62c04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac382cc4431d2d1c721c21a453ba36c22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#gac382cc4431d2d1c721c21a453ba36c22">hal_i2c_release</a> (void *hal_data)</td></tr>
<tr class="memdesc:gac382cc4431d2d1c721c21a453ba36c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">manages reference count on given bus and releases resource if no more refences exist  <a href="a00473.html#gac382cc4431d2d1c721c21a453ba36c22">More...</a><br /></td></tr>
<tr class="separator:gac382cc4431d2d1c721c21a453ba36c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f82572f05b8587d98bc38601453863e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#ga4f82572f05b8587d98bc38601453863e">hal_i2c_control</a> (<a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a> iface, uint8_t option, void *param, size_t paramlen)</td></tr>
<tr class="memdesc:ga4f82572f05b8587d98bc38601453863e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform control operations for the kit protocol.  <a href="a00473.html#ga4f82572f05b8587d98bc38601453863e">More...</a><br /></td></tr>
<tr class="separator:ga4f82572f05b8587d98bc38601453863e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afc44109c333c49c93b058b36cb2ed2fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00473.html#a06b19a932aea9cf3a5165fefacb24f7b">ATCAI2CMaster_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#afc44109c333c49c93b058b36cb2ed2fb">i2c_hal_data</a> [2]</td></tr>
<tr class="separator:afc44109c333c49c93b058b36cb2ed2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#a5a85b9c772bbeb480b209a3e6ea92b4c">TAG</a> = &quot;HAL_I2C&quot;</td></tr>
<tr class="separator:a5a85b9c772bbeb480b209a3e6ea92b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab58253322bcadfefd7ab8c3ec0fb65fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00473.html#ab58253322bcadfefd7ab8c3ec0fb65fb">status</a></td></tr>
<tr class="separator:ab58253322bcadfefd7ab8c3ec0fb65fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8ad7ceb373ce664b1c2482a66537e7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad7ceb373ce664b1c2482a66537e7c0">&#9670;&nbsp;</a></span>ACK_CHECK_DIS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACK_CHECK_DIS&#160;&#160;&#160;0x0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>I2C master will not check ack from slave </p>

</div>
</div>
<a id="a7dd22b838d2b1f22d367e6cdef04ccc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd22b838d2b1f22d367e6cdef04ccc3">&#9670;&nbsp;</a></span>ACK_CHECK_EN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACK_CHECK_EN&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>I2C master will check ack from slave </p>

</div>
</div>
<a id="a1d64a546dacc15052a6c4887f9d0020f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d64a546dacc15052a6c4887f9d0020f">&#9670;&nbsp;</a></span>ACK_VAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACK_VAL&#160;&#160;&#160;0x0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>I2C ack value </p>

</div>
</div>
<a id="a1e30c459b21b57de018d51644a767929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e30c459b21b57de018d51644a767929">&#9670;&nbsp;</a></span>I2C0_SCL_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C0_SCL_PIN&#160;&#160;&#160;17</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a6c8b4ecca4f35aaa82d33f8a1d9742"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a6c8b4ecca4f35aaa82d33f8a1d9742">&#9670;&nbsp;</a></span>I2C0_SDA_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C0_SDA_PIN&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add009e081e638094ee54b280661d862e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add009e081e638094ee54b280661d862e">&#9670;&nbsp;</a></span>I2C1_SCL_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C1_SCL_PIN&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68697a8aca56f616b38aa23f82edecd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68697a8aca56f616b38aa23f82edecd5">&#9670;&nbsp;</a></span>I2C1_SDA_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C1_SDA_PIN&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5155a7b7465dd9b5e6167122827d0158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5155a7b7465dd9b5e6167122827d0158">&#9670;&nbsp;</a></span>LOG_LOCAL_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_LOCAL_LEVEL&#160;&#160;&#160;ESP_LOG_INFO</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af89a7a4080a47aa10a5504291db285bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89a7a4080a47aa10a5504291db285bf">&#9670;&nbsp;</a></span>MAX_I2C_BUSES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_I2C_BUSES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae20bf16f65c41237e2d620ef49890781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20bf16f65c41237e2d620ef49890781">&#9670;&nbsp;</a></span>NACK_VAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NACK_VAL&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>I2C nack value </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a06b19a932aea9cf3a5165fefacb24f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b19a932aea9cf3a5165fefacb24f7b">&#9670;&nbsp;</a></span>ATCAI2CMaster_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="a19840.html">atcaI2Cmaster</a> <a class="el" href="a00473.html#a06b19a932aea9cf3a5165fefacb24f7b">ATCAI2CMaster_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a210aab17fd4be72d6af1bdf044ec2581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210aab17fd4be72d6af1bdf044ec2581">&#9670;&nbsp;</a></span>hal_i2c_change_baud()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_change_baud </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>method to change the bus speec of I2C </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>interface on which to change bus speed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">speed</td><td>baud rate (typically 100000 or 400000) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4f82572f05b8587d98bc38601453863e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f82572f05b8587d98bc38601453863e">&#9670;&nbsp;</a></span>hal_i2c_control()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>paramlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform control operations for the kit protocol. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>Interface to interact with. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>Control parameter identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">param</td><td>Optional pointer to parameter value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">paramlen</td><td>Length of the parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code. </dd></dl>

</div>
</div>
<a id="ga17df8d983df73e2e8f62f1236f157909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17df8d983df73e2e8f62f1236f157909">&#9670;&nbsp;</a></span>hal_i2c_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a19744.html">ATCAIfaceCfg</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>hal_i2c_init manages requests to initialize a physical interface. it manages use counts so when an interface has released the physical layer, it will disable the interface for some other use. You can have multiple ATCAIFace instances using the same bus, and you can have multiple ATCAIFace instances on multiple i2c buses, so hal_i2c_init manages these things and ATCAIFace is abstracted from the physical details. </p>
<p>HAL implementation of I2C init.</p>
<ul>
<li>this HAL implementation assumes you've included the START Twi libraries in your project, otherwise, the HAL layer will not compile because the START TWI drivers are a dependency *</li>
</ul>
<p>initialize an I2C interface using given config </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hal</td><td>- opaque ptr to HAL data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cfg</td><td>- interface configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<p>this implementation assumes I2C peripheral has been enabled by user. It only initialize an I2C interface using given config.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hal</td><td>pointer to HAL specific data that is maintained by this HAL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cfg</td><td>pointer to HAL specific configuration data that is used to initialize this HAL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code. </dd></dl>

</div>
</div>
<a id="gafbe53519362f18c2688d10da6f7c618f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbe53519362f18c2688d10da6f7c618f">&#9670;&nbsp;</a></span>hal_i2c_post_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_post_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HAL implementation of I2C post init. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code. </dd></dl>

</div>
</div>
<a id="gac1baf65047dc3efe1f14f1b79b62c04f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1baf65047dc3efe1f14f1b79b62c04f">&#9670;&nbsp;</a></span>hal_i2c_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>word_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>rxlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HAL implementation of I2C receive function. </p>
<p>HAL implementation of I2C receive function for ASF I2C.</p>
<p>HAL implementation of I2C receive function for START I2C.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>Device to interact with. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Device address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxdata</td><td>Data received will be returned here. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rxlength</td><td>As input, the size of the rxdata buffer. As output, the number of bytes received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>Device to interact with. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxdata</td><td>Data received will be returned here. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rxlength</td><td>As input, the size of the rxdata buffer. As output, the number of bytes received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>Device to interact with. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>device address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxdata</td><td>Data received will be returned here. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rxlength</td><td>As input, the size of the rxdata buffer. As output, the number of bytes received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>Device to interact with. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">word_address</td><td>device word address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxdata</td><td>Data received will be returned here. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rxlength</td><td>As input, the size of the rxdata buffer. As output, the number of bytes received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code. </dd></dl>
<p>&lt; I2C master will check ack from slave</p>
<p>&lt; I2C ack value</p>
<p>&lt; I2C nack value</p>

</div>
</div>
<a id="gac382cc4431d2d1c721c21a453ba36c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac382cc4431d2d1c721c21a453ba36c22">&#9670;&nbsp;</a></span>hal_i2c_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_release </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>hal_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>manages reference count on given bus and releases resource if no more refences exist </p>
<p>manages reference count on given bus and releases resource if no more refernces exist</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hal_data</td><td>- opaque pointer to hal data structure - known only to the HAL implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hal_data</td><td>- opaque pointer to hal data structure - known only to the HAL implementation return ATCA_SUCCESS</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hal_data</td><td>- opaque pointer to hal data structure - known only to the HAL implementation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS </dd></dl>

</div>
</div>
<a id="ga148e547d08979e9934ce183933ecd7ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga148e547d08979e9934ce183933ecd7ed">&#9670;&nbsp;</a></span>hal_i2c_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> hal_i2c_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a19711.html#ga75c11126f3fe81df3d6c27f5bb393303">ATCAIface</a>&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>word_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>txdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>txlength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HAL implementation of I2C send. </p>
<p>HAL implementation of I2C send over ASF.</p>
<p>HAL implementation of I2C send over START.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>instance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">word_address</td><td>device transaction type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txdata</td><td>pointer to space to bytes to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txlength</td><td>number of bytes to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>instance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txdata</td><td>pointer to space to bytes to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txlength</td><td>number of bytes to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iface</td><td>instance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">word_address</td><td>device word address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txdata</td><td>pointer to space to bytes to send </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txlength</td><td>number of bytes to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCA_SUCCESS on success, otherwise an error code. </dd></dl>
<p>&lt; I2C master will check ack from slave</p>
<p>&lt; I2C master will check ack from slave</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afc44109c333c49c93b058b36cb2ed2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc44109c333c49c93b058b36cb2ed2fb">&#9670;&nbsp;</a></span>i2c_hal_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00473.html#a06b19a932aea9cf3a5165fefacb24f7b">ATCAI2CMaster_t</a> i2c_hal_data[2]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab58253322bcadfefd7ab8c3ec0fb65fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab58253322bcadfefd7ab8c3ec0fb65fb">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00239.html#a22bd6643f31f1d75dc3e7ea939f468cd">ATCA_STATUS</a> status</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a85b9c772bbeb480b209a3e6ea92b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a85b9c772bbeb480b209a3e6ea92b4c">&#9670;&nbsp;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* TAG = &quot;HAL_I2C&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_aa9f03ac313f820f3c4ddc4fdd25fbe6.html">dist-tools</a></li><li class="navelem"><a class="el" href="dir_172396cce95e4eda6f9bd87fe7731556.html">cryptauthlib-v3.4.1_</a></li><li class="navelem"><a class="el" href="dir_6ee2bcff1f18a9977630efc198c52436.html">lib</a></li><li class="navelem"><a class="el" href="dir_b22120751861b855c8cee6a9b3f50ac6.html">hal</a></li><li class="navelem"><a class="el" href="a00473.html">hal_esp32_i2c.c</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
